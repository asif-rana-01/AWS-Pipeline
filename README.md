
# Design and create an AWS pipeline for muon detectors

 This project provides a proposal for the architecture of the pipeline for [mdetect](https://mdetect.com.au/). 
 
 The success criteria of this project is based on the creation of an optimal system architecture for the AWS pipeline that is capable of anticipating the usage patterns and provide a cost-effective solution.

 
## Project Requirement 

### Access control for the resources

The users of this project will require to verify through [Multi-Factor Authentication](https://aws.amazon.com/iam/features/mfa/) system before getting access to the resources. 

After successful login to the AWS management console, access to the resources will be determined by the predefined Identity Access Management [IAM](https://aws.amazon.com/iam/) roles.


### Create Database Considering IO Patterns
- ***Storing sensor data generated in real-time***
The IoT devices are capable of generating data
 at a rate of 1KB/second. In order to process 
 this generated data, [Kinesis Data Streams](https://aws.amazon.com/kinesis/data-streams/) will
 be added to the AWS pipeline. The live data 
 stream will then be feed to [Kinesis Data Firehose](https://aws.amazon.com/kinesis/data-firehose/) 
 which will store the data to [S3](https://aws.amazon.com/s3/) buckets for
 storage. 
- ***Storing sensor data in batches*** 
Sensor data might be processed in batches after they have been retrieved from
 the deployed site. This means the pipeline needs to have the capability to 
 store data in batches. [Amazon Simple Storage Service (S3)]((https://aws.amazon.com/s3/)) will be used to store the 
 sensor data. Moreover, this service will be the default storage option for storing the input and output data.  

- ***Database containing information about the sensors***
The deployment status of the IoT sensors is required to be stored in a database that could be accessed and updated accordingly. A SQL based database architecture will be used to store all the required information for the institution. [Amazon Relational Database Service (RDS)](https://aws.amazon.com/rds/) will be able to store this database. 


#### Sample Relational Database

  ![image](https://drive.google.com/uc?export=view&id=1K081OZOpeIAYljiD2SgfijgX6qpNjuzv)



### Sharing Findings With Clients 
The predictions made by the machine learning algorithm will require to be shared with the clients. This requires an API through which the clients will have an access to the documents which are needed to be shared. Amazon [API Gateway](https://aws.amazon.com/api-gateway/) can be used to share the contents required by the clients. Contents in S3 can be shared with the client through a [presigned URL](https://docs.aws.amazon.com/AmazonS3/latest/userguide/ShareObjectPreSignedURL.html). 

Moreover, based on certain scenarios, the clients might be required to be notified about certain findings regarding the predictions made by the machine learning model. The functionality of notifying the clients could be implemented by [Amazon Simple Service Notification (SSN)](https://aws.amazon.com/sns/). 


### Data Cleaning
The data generated by the IoT device is stored in JSON format. This requires some data pre-processing to extract the required features from the data and store it into csv format.
Required code to convert the JSOn file into CSV can be found [here](https://github.com/asif-rana-01/COS80028-S2-Asif-Rana-102866893/blob/main/Conversion-%20JSON%20to%20CSV%20.ipynb).
